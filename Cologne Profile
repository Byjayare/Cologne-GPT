üìÅ Cologne-GPT/
‚îú‚îÄ‚îÄ cologne_gpt_app.py
# Streamlit-based CologneGPT Web App

import streamlit as st
import json
import matplotlib.pyplot as plt
from collections import defaultdict

class CologneGPT:
    def __init__(self, user_scents):
        self.user_scents = user_scents
        self.scent_db = self.build_scent_db()
        self.ratings_file = "combo_ratings.json"
        self.combo_ratings = self.load_combo_ratings()

    def build_scent_db(self):
        try:
            with open("scent_database.json", "r") as f:
                return json.load(f)
        except FileNotFoundError:
            return {
                "Creed Aventus": {
                    "profile": ["fruity", "smoky", "pineapple", "musk"],
                    "category": "Bold",
                    "occasion": ["events", "weekends"],
                    "type": "Niche"
                },
                "Jean Lowe Immortel": {
                    "profile": ["fresh", "spicy", "woody"],
                    "category": "Versatile",
                    "occasion": ["daily", "office"],
                    "type": "Clone"
                },
                "Versace Eros Flame": {
                    "profile": ["sweet", "spicy", "citrus"],
                    "category": "Sensual",
                    "occasion": ["dates", "night"],
                    "type": "Designer"
                },
                "Dolce & Gabbana Light Blue": {
                    "profile": ["citrus", "aquatic", "woody"],
                    "category": "Fresh",
                    "occasion": ["daytime", "summer"],
                    "type": "Designer"
                },
                "Acqua di Gio Pour Homme": {
                    "profile": ["marine", "citrus", "aromatic", "woody"],
                    "category": "Aquatic",
                    "occasion": ["daytime", "office"],
                    "type": "Designer"
                },
                "Louis Vuitton Imagination": {
                    "profile": ["citrus", "ginger", "tea", "amber"],
                    "category": "Elegant",
                    "occasion": ["night", "formal"],
                    "type": "Designer"
                },
                "Amber Oud Aqua Dubai": {
                    "profile": ["aquatic", "amber", "oud"],
                    "category": "Signature",
                    "occasion": ["daily", "hot weather"],
                    "type": "Clone"
                },
                "YSL Tuxedo": {
                    "profile": ["patchouli", "ambergris", "vanilla"],
                    "category": "Luxury",
                    "occasion": ["events", "evening"],
                    "type": "Designer"
                },
                "YSL Y": {
                    "profile": ["apple", "sage", "ambergris", "woody"],
                    "category": "Youthful",
                    "occasion": ["daily", "night out"],
                    "type": "Designer"
                },
                "YSL Myslf": {
                    "profile": ["bergamot", "orange blossom", "ambrette"],
                    "category": "Modern Fresh",
                    "occasion": ["daytime", "spring"],
                    "type": "Designer"
                },
                "Dior Sauvage EDT": {
                    "profile": ["bergamot", "pepper", "ambroxan"],
                    "category": "Fresh Spicy",
                    "occasion": ["versatile", "day and night"],
                    "type": "Designer"
                },
                "Dior Sauvage EDP": {
                    "profile": ["bergamot", "amber", "lavender", "spicy"],
                    "category": "Modern",
                    "occasion": ["daytime", "night out"],
                    "type": "Designer"
                },
                "Clive Christian Blonde Amber": {
                    "profile": ["amber", "musk", "woods"],
                    "category": "Rich",
                    "occasion": ["evening", "formal"],
                    "type": "Niche"
                },
                "Xerjoff Naxos": {
                    "profile": ["honey", "tobacco", "citrus", "spicy"],
                    "category": "Opulent",
                    "occasion": ["evening", "cool weather"],
                    "type": "Niche"
                },
                "Maison Patek Rouge": {
                    "profile": ["saffron", "amber", "airy"],
                    "category": "Sweet",
                    "occasion": ["year-round", "special"],
                    "type": "Clone"
                },
                "Parfums de Marly Layton": {
                    "profile": ["apple", "vanilla", "lavender", "cardamom", "sandalwood"],
                    "category": "Warm & Spicy",
                    "occasion": ["day", "night"],
                    "type": "Niche"
                },
                "Parfums de Marly Herod": {
                    "profile": ["tobacco", "vanilla", "cinnamon", "incense"],
                    "category": "Warm & Spicy",
                    "occasion": ["evening", "fall", "winter"],
                    "type": "Niche"
                },
                "Parfums de Marly Percival": {
                    "profile": ["bergamot", "lavender", "musk", "amber"],
                    "category": "Fresh & Aromatic",
                    "occasion": ["daytime", "office"],
                    "type": "Niche"
                },
                "Parfums de Marly Sedley": {
                    "profile": ["mint", "lemon", "lavender", "sandalwood"],
                    "category": "Fresh & Citrus",
                    "occasion": ["spring", "summer", "daytime"],
                    "type": "Niche"
                },
                "Parfums de Marly Altha√Ør": {
                    "profile": ["vanilla", "cinnamon", "cardamom", "amber"],
                    "category": "Warm & Sweet",
                    "occasion": ["evening", "special occasions"],
                    "type": "Niche"
                },
                "Maison Francis Kurkdjian Baccarat Rouge 540": {
                    "profile": ["amber", "saffron", "woody", "airy"],
                    "category": "Sweet",
                    "occasion": ["luxury events", "special occasions"],
                    "type": "Niche"
                },
                "Yves Saint Laurent Libre Eau de Parfum": {
                    "profile": ["lavender", "orange blossom", "vanilla"],
                    "category": "Floral",
                    "occasion": ["daily", "evening"],
                    "type": "Designer"
                },
                "Dior Sauvage Eau de Parfum": {
                    "profile": ["bergamot", "amber", "lavender", "spicy"],
                    "category": "Modern",
                    "occasion": ["daytime", "night out"],
                    "type": "Designer"
                },
                "Valentino Donna Born in Roma Eau de Parfum": {
                    "profile": ["blackcurrant", "vanilla", "jasmine"],
                    "category": "Sweet",
                    "occasion": ["evening", "date night"],
                    "type": "Designer"
                },
                "Chanel Coco Mademoiselle Eau de Parfum": {
                    "profile": ["patchouli", "orange", "rose", "jasmine"],
                    "category": "Chypre",
                    "occasion": ["formal", "signature scent"],
                    "type": "Designer"
                },
                "Tom Ford Black Orchid Eau de Parfum": {
                    "profile": ["black truffle", "patchouli", "chocolate"],
                    "category": "Dark & Opulent",
                    "occasion": ["evening", "cool weather"],
                    "type": "Niche"
                },
                "Lanc√¥me La Vie Est Belle Eau de Parfum": {
                    "profile": ["pear", "praline", "vanilla", "patchouli"],
                    "category": "Sweet",
                    "occasion": ["everyday", "evening"],
                    "type": "Designer"
                },
                "Burberry Her Eau de Parfum": {
                    "profile": ["strawberry", "raspberry", "vanilla", "musk"],
                    "category": "Fruity",
                    "occasion": ["casual", "romantic"],
                    "type": "Designer"
                },
                "Marc Jacobs Daisy Eau de Toilette": {
                    "profile": ["violet leaf", "strawberry", "jasmine", "white woods"],
                    "category": "Fresh",
                    "occasion": ["spring", "daytime"],
                    "type": "Designer"
                },
                "Ariana Grande Cloud Eau de Parfum": {
                    "profile": ["lavender", "coconut", "whipped cream", "musk"],
                    "category": "Sweet Gourmand",
                    "occasion": ["youthful", "casual"],
                    "type": "Celebrity"
                }
            }

    def save_scent_db(self):
        with open("scent_database.json", "w") as f:
            json.dump(self.scent_db, f, indent=4)

    # ...rest of your class remains unchanged...

st.sidebar.subheader("Filter & Search")

# Scent Type Filter
selected_type = st.sidebar.selectbox("Filter by Scent Type", ["All"] + sorted(set(s["type"] for s in CologneGPT([]).scent_db.values())))

# Scent Name Search
search_query = st.sidebar.text_input("Search Fragrance Name")

# Display Matches
if selected_type != "All" or search_query:
    cgpt = CologneGPT([])
    filtered = {
        name: data for name, data in cgpt.scent_db.items()
        if (selected_type == "All" or data["type"] == selected_type)
        and (search_query.lower() in name.lower())
    }
    st.subheader("Matching Scents")
    for name, data in filtered.items():
        st.markdown(f"**{name}**
- Profile: {', '.join(data['profile'])}
- Category: {data['category']}
- Occasion: {', '.join(data['occasion'])}
- Type: {data['type']}")

# Suggest Hybrid Layering Combos
if user_scents:
    st.subheader("Smart Layering Suggestions")
    cgpt = CologneGPT(user_scents)
    hybrid_suggestions = []
    for base in user_scents:
        for top in user_scents:
            if base != top:
                base_notes = set(cgpt.scent_db.get(base, {}).get("profile", []))
                top_notes = set(cgpt.scent_db.get(top, {}).get("profile", []))
                if base_notes and top_notes:
                    shared = base_notes.intersection(top_notes)
                    if shared:
                        hybrid_suggestions.append((base, top, list(shared)))
    for base, top, shared in hybrid_suggestions:
        combo_key = f"{base} + {top}"
        if "saved_hybrids" not in st.session_state:
            st.session_state.saved_hybrids = []
        col1, col2 = st.columns([0.8, 0.2])
        with col1:
            st.write(f"- {base} + {top} (Shared notes: {', '.join(shared)})")
        with col2:
            if st.button(f"üíæ Save", key=f"save_{combo_key}"):
                if combo_key not in st.session_state.saved_hybrids:
                    st.session_state.saved_hybrids.append(combo_key)
                    st.success(f"Saved hybrid: {combo_key}")

    if st.session_state.get("saved_hybrids"):
        st.subheader("üì¶ Saved Hybrids for Custom Requests")
        for combo in st.session_state.saved_hybrids:
            st.markdown(f"- {combo}")
        if st.button("üß™ Request Custom Hybrid from My Decant Lab"):
            st.success("Custom hybrid request submitted! We'll contact you shortly.")})")
‚îú‚îÄ‚îÄ scent_database.json
{
  "Creed Aventus": {
    "profile": ["fruity", "smoky", "pineapple", "musk"],
    "category": "Bold",
    "occasion": ["special events", "evening"],
    "type": "Niche"
  },
  "YSL Tuxedo": {
    "profile": ["amber", "patchouli", "vanilla", "spicy"],
    "category": "Luxury",
    "occasion": ["date night", "evening", "formal"],
    "type": "Designer"
  },
  "Dior Sauvage EDP": {
    "profile": ["amber", "spicy", "bergamot", "clean"],
    "category": "Modern",
    "occasion": ["daily", "night out"],
    "type": "Designer"
  },
  "Al Haramain Amber Oud Rouge": {
    "profile": ["amber", "saffron", "jasmine", "woody"],
    "category": "Sweet",
    "occasion": ["evening", "signature scent"],
    "type": "Clone"
  },
  "Maison Francis Kurkdjian Baccarat Rouge 540": {
    "profile": ["amber", "saffron", "woody", "airy"],
    "category": "Sweet",
    "occasion": ["luxury events", "special occasions"],
    "type": "Niche"
  },
  "Versace Eros Flame": {
    "profile": ["citrus", "vanilla", "spicy", "woody"],
    "category": "Sensual",
    "occasion": ["date night", "evening"],
    "type": "Designer"
  },
  "Lattafa Khamrah": {
    "profile": ["cinnamon", "vanilla", "amber", "sweet"],
    "category": "Warm",
    "occasion": ["winter", "evening"],
    "type": "Clone"
  },
  "Xerjoff Naxos": {
    "profile": ["honey", "tobacco", "citrus", "spicy"],
    "category": "Opulent",
    "occasion": ["evening", "cool weather"],
    "type": "Niche"
  },
  "YSL Y EDP": {
    "profile": ["apple", "sage", "ambergris", "woody"],
    "category": "Youthful",
    "occasion": ["daily", "night out"],
    "type": "Designer"
  },
  "Jean Lowe Immortel": {
    "profile": ["grapefruit", "ginger", "amber", "fresh spicy"],
    "category": "Versatile",
    "occasion": ["daytime", "office"],
    "type": "Clone"
  }
}

‚îî‚îÄ‚îÄ combo_ratings.json
